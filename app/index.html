<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>devRant // new Rant("fml");</title>
    <style>
      body {
        margin: 0;
        height: 100vh;
      }
      #webview {
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <webview id='webview' src='https://www.devrant.io/feed'></webview>
    <script>
      //JQuery Import
      window.$ = window.jQuery = require('./jquery-2.2.2.js');

      //Constant variable made from 'webview' ID
      const webview = document.getElementById('webview');

      // DOM ready executing scripts after the webview has loaded
      webview.addEventListener('dom-ready', function() {

        // Debugging - Open Dev Tools
        webview.openDevTools();

        // Remove Mobile Banner | Buttons Moved to Bottom of Window | Remove Scroll Bars
        this.insertCSS('.mobile-install-banner{display:none!important;} .bar-btm-guy{display:none!important;}');
        this.insertCSS('.addrant-btn, .addcomment-btn{bottom: 20px!important;}');
        this.insertCSS('::-webkit-scrollbar{display: none!important;}');

        //Adds Mobile Download Buttons to Menu | Adds Back Button
        webview.executeJavaScript("$('.menu-modal.modal-base > ul').append('<li><a>Download for iOS</a></li>')");
        webview.executeJavaScript("$('.menu-modal.modal-base > ul').append('<li><a>Download for Android</a></li>')");
      });

      // Webview links that try to open in new window will open in default browser
      webview.addEventListener('new-window', function(event) {
        require('electron').shell.openExternal(event.url);
      });
    </script>
  </body>
</html>
